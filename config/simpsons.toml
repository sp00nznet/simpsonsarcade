# The Simpsons Arcade - XenonRecomp Configuration
# Title ID: 0x584111FA
# Generated: 2026-02-23

[main]
file_path = "../extracted/default.xex"
out_directory_path = "../ppc"
switch_table_file_path = "simpsons_switch_tables.toml"

# ABI Register Save/Restore Addresses
# Found by scanning PE image with tools/find_abi_addrs.py
savegprlr_14_address = 0x8225D390
restgprlr_14_address = 0x8225D3E0
savefpr_14_address = 0x8225E270
restfpr_14_address = 0x8225E2BC
savevmx_14_address = 0x8225E6C0
restvmx_14_address = 0x8225E958
savevmx_64_address = 0x8225E754
restvmx_64_address = 0x8225E9EC

# setjmp/longjmp - not found in this game binary
# longjmp_address = 0x00000000
# setjmp_address = 0x00000000

# Manual function definitions for entry points missed by static analysis.
# These are addresses called indirectly (vtable, function pointers) that
# XenonRecomp didn't detect as function starts.
functions = [
    { address = 0x820C62A8, size = 0x20 },   # gap before sub_820C62C8
    { address = 0x8214E57C, size = 0x6C },   # gap before sub_8214E5E8
    { address = 0x82129FC4, size = 0x354 },  # inside sub_82129E98 range
    { address = 0x82123E58, size = 0x284 },  # gap before sub_821240DC
    { address = 0x82140EB4, size = 0x1470 }, # gap before sub_82142324
]

[optimizations]
# All optimizations DISABLED for initial recompilation pass
# Enable these ONLY after basic recompilation works correctly
skip_lr = false
skip_msr = false
ctr_as_local = false
xer_as_local = false
reserved_as_local = false
cr_as_local = false
non_argument_as_local = false
non_volatile_as_local = false
